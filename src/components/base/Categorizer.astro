---
import { UI } from '~/config'
import { slug } from '~/utils/toc'

interface Props {
  idx?: number
  text: string
  needId?: boolean
  wide?: boolean
}

const { idx, text, needId = false, wide = false } = Astro.props
const { maxGroupColumns } = UI.groupView
---

<div
  {...needId ? { id: slug(text) } : {}}
  class={`toc-heading pointer-events-none relative h-20 select-none ${idx !== undefined ? 'slide-enter' : ''}`}
  style={idx !== undefined ? { '--enter-stage': idx - 2 } : undefined}
>
  {
    !wide
? (
      <span
        class="absolute left--12 top--8 text-8em color-transparent font-bold text-stroke-2 text-stroke-hex-aaa op-10"
      >
        {text}
      </span>
    )
: (
      <span
        class={`absolute top-0 text-5em color-transparent font-bold leading-1em text-stroke-1.5 text-stroke-#aaa op-35 lt-sm:(top-2 text-3.6em) lt-lg:text-4.5em dark:op-20 ${maxGroupColumns === 3 ? 'left--4' : 'left-[14%] lt-lg:left--4'}`}
      >
        {text}
      </span>
    )
  }
</div>
